# 儿童安全座椅设计助手 - 手机安装指南

## 📱 快速安装

### 前提条件

1. **访问地址**：http://9.129.222.155:5000
2. **推荐浏览器**：
   - ✅ Chrome（安卓，推荐）
   - ✅ Safari（iOS）
   - ⚠️ 其他浏览器可能不支持PWA

3. **重要提醒**：
   - **需要配置云服务器安全组开放5000端口**
   - 建议使用HTTPS（更安全，PWA要求）
   - 首次安装需要网络连接

---

## 🤖 安卓手机安装步骤

### 方法1：自动安装（推荐）

1. **访问应用**
   - 打开Chrome浏览器
   - 访问：http://9.129.222.155:5000

2. **等待安装提示**
   - 页面顶部会显示蓝色安装提示条
   - 内容："📱 安装到手机 - 添加到主屏幕，使用更便捷"

3. **点击"立即安装"**
   - 点击提示条上的"立即安装"按钮
   - 按照浏览器提示完成安装

4. **完成安装**
   - 在弹出的对话框中点击"添加"或"安装"
   - 等待安装完成（几秒钟）

5. **打开应用**
   - 返回手机主屏幕
   - 找到"座椅助手"图标
   - 点击即可使用

### 方法2：通过浏览器菜单

1. **访问应用**
   - 打开Chrome浏览器
   - 访问：http://9.129.222.155:5000

2. **打开菜单**
   - 点击浏览器右上角三个点（⋮）
   - 打开Chrome菜单

3. **选择"添加到主屏幕"**
   - 在菜单中找到"添加到主屏幕"或"安装应用"
   - 点击该选项

4. **确认安装**
   - 查看应用信息
   - 点击"添加"或"安装"

5. **完成**
   - 返回主屏幕即可看到应用图标

### 方法3：通过地址栏

1. **查看地址栏**
   - 在Chrome浏览器中访问应用
   - 查看地址栏右侧是否有"+"或安装图标

2. **点击图标**
   - 点击地址栏右侧的图标
   - 选择"安装应用"

3. **完成安装**
   - 按照提示完成安装

---

##  iOS (iPhone/iPad) 安装步骤

### 通过Safari浏览器

1. **访问应用**
   - 打开Safari浏览器
   - 访问：http://9.129.222.155:5000

2. **点击分享按钮**
   - 点击底部中间的分享按钮（⬆️图标）
   - 向上滑动找到"添加到主屏幕"

3. **添加到主屏幕**
   - 点击"添加到主屏幕"
   - 查看应用名称和图标
   - 点击右上角"添加"

4. **完成**
   - 返回主屏幕
   - 找到"座椅助手"图标
   - 点击即可使用

---

## ✅ 验证安装成功

### 检查项：

1. **主屏幕有图标**
   - ✅ 主屏幕出现"座椅助手"图标
   - ✅ 图标显示正确（需要PNG格式）

2. **独立窗口运行**
   - ✅ 点击图标启动应用
   - ✅ 不显示浏览器地址栏（安卓）
   - ✅ 全屏或独立窗口显示

3. **应用名称正确**
   - ✅ 状态栏显示"座椅助手"
   - ✅ 应用名称正确显示

4. **离线可用**
   - ✅ 关闭网络连接
   - ✅ 应用仍能正常使用

5. **主题色正确**
   - ✅ 应用主题色为紫色
   - ✅ 状态栏背景色正确

---

## ⚠️ 常见问题

### Q1: 为什么没有显示安装提示？

**可能原因：**
1. ❌ 不是Chrome浏览器（安卓）
2. ❌ 不是Safari浏览器（iOS）
3. ❌ 云服务器安全组未开放5000端口
4. ❌ 图标格式不正确（需要PNG）

**解决方法：**
- 使用Chrome或Safari浏览器
- 检查网络连接
- 配置云服务器安全组

### Q2: 点击"添加到主屏幕"没有反应？

**可能原因：**
1. ❌ manifest.json配置错误
2. ❌ Service Worker未注册
3. ❌ 缺少PNG格式图标

**解决方法：**
- 刷新页面重试
- 清除浏览器缓存
- 联系技术支持

### Q3: 安装后图标显示不正确？

**原因：** 当前图标是SVG格式，某些设备不支持。

**解决方法：**
需要管理员将SVG图标转换为PNG格式（192x192 和 512x512）。

### Q4: 安装后应用无法离线使用？

**可能原因：**
- Service Worker未正确激活

**解决方法：**
1. 打开Chrome开发者工具
2. 切换到"Application"标签
3. 检查"Service Workers"状态
4. 确保状态为"activated"

### Q5: iOS上无法安装？

**检查：**
1. 是否使用Safari浏览器
2. 是否点击了"添加到主屏幕"选项
3. 是否有足够存储空间

---

## 📸 安装截图说明

### 安卓安装过程

```
1. 访问应用
   ┌─────────────────┐
   │ 🌐 http://...   │
   ├─────────────────┤
   │ 📱 安装到手机    │  ← 安装提示条
   │ 立即安装 暂不安装 │
   ├─────────────────┤
   │   应用内容...    │
   └─────────────────┘

2. 点击"立即安装"
   ┌─────────────────┐
   │   安装应用?      │
   ├─────────────────┤
   │   [座椅助手]     │
   │                 │
   │  [安装] [取消]   │
   └─────────────────┘

3. 安装完成
   ┌─────────────────┐
   │ 🏠 主屏幕        │
   ├─────────────────┤
   │  [📧] [📱]      │
   │  [座椅助手] ← 这里 │
   │  [⚙️] [🔍]      │
   └─────────────────┘
```

### iOS安装过程

```
1. 访问应用
   ┌─────────────────┐
   │ 🌐 http://...   │
   ├─────────────────┤
   │   应用内容...    │
   └─────────────────┘

2. 点击分享按钮 (⬆️)
   ┌─────────────────┐
   │  [复制链接]      │
   │  [分享Safari]    │
   │  [添加到主屏幕] ←这里 │
   │  [打印]         │
   └─────────────────┘

3. 添加到主屏幕
   ┌─────────────────┐
   │  座椅助手        │
   ├─────────────────┤
   │  [图标预览]      │
   │                 │
   │   [添加] [取消]  │
   └─────────────────┘

4. 安装完成
   ┌─────────────────┐
   │ 🏠 主屏幕        │
   ├─────────────────┤
   │  [📧] [📱]      │
   │  [座椅助手] ← 这里 │
   │  [⚙️] [🔍]      │
   └─────────────────┘
```

---

## 🔧 技术要求

### 开发者需要确认：

1. ✅ 服务运行在0.0.0.0:5000
2. ✅ manifest.json配置正确
3. ✅ Service Worker已注册
4. ⚠️ 需要PNG格式图标（当前只有SVG）
5. ⚠️ 建议配置HTTPS（PWA要求）

### 生成PNG图标步骤：

```bash
# 方法1：在线转换（推荐）
# 1. 访问 https://cloudconvert.com/svg-to-png
# 2. 上传 public/icon-192.svg
# 3. 转换为 192x192 PNG
# 4. 下载并命名为 icon-192.png
# 5. 同样处理 icon-512.svg
# 6. 放到 public/ 目录下

# 方法2：使用ImageMagick
convert public/icon-192.svg -resize 192x192 public/icon-192.png
convert public/icon-512.svg -resize 512x512 public/icon-512.png
```

---

## 🌐 HTTPS配置建议

PWA在某些功能上要求HTTPS，建议配置：

1. **使用Let's Encrypt免费证书**
2. **配置nginx反向代理**
3. **强制HTTPS跳转**

### nginx配置示例：

```nginx
server {
    listen 80;
    server_name 9.129.222.155;
    return 301 https://$server_name$request_uri;
}

server {
    listen 443 ssl http2;
    server_name 9.129.222.155;

    ssl_certificate /path/to/cert.pem;
    ssl_certificate_key /path/to/key.pem;

    location / {
        proxy_pass http://localhost:5000;
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection 'upgrade';
        proxy_set_header Host $host;
        proxy_cache_bypass $http_upgrade;
    }
}
```

---

## 📞 技术支持

如果遇到安装问题，请提供以下信息：

1. 手机型号和系统版本
2. 浏览器名称和版本
3. 使用的访问地址
4. 具体的错误信息或截图

---

## 📝 注意事项

1. **首次安装需要网络**：安装后可离线使用
2. **定期更新**：PWA会自动更新到最新版本
3. **存储空间**：确保手机有足够存储空间
4. **权限要求**：某些功能可能需要相机、存储等权限
5. **卸载方法**：长按图标 → 卸载/删除

---

**更新时间：** 2025-01-22
**适用版本：** V7.5.0
**访问地址：** http://9.129.222.155:5000
