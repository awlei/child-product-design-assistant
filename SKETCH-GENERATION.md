# 简笔画示意图生成功能说明

## 功能概述
在GPS人体测量工具中集成了AI简笔画示意图生成功能，可以根据计算的座椅尺寸自动生成直观的简笔画示意图。

## 使用方法

### 1. 进入GPS人体测量工具
- 打开应用首页
- 点击 "📊 GPS人体测量工具" 按钮
- 或直接访问 http://localhost:5000/gps-anthro

### 2. 切换到座椅设计标签页
- 点击顶部的 "座椅设计" 标签页

### 3. 配置座椅参数
- 设置安全带插槽数量（2-6个）
- 输入安全带长度
- 设置侧垫、座垫、靠背垫厚度

### 4. 输入儿童身高
- 在"测试身高"输入框中输入儿童身高（40-150cm）

### 5. 生成示意图
- 点击 "🖼️ 生成示意图" 按钮
- 等待AI生成图片（通常5-10秒）
- 生成的图片会显示在页面下方

### 6. 选择图片样式
提供三种样式可选：
- **简笔画**：简单的线条绘制，黑白风格
- **详细**：详细的技术图纸风格
- **卡通**：可爱的卡通风格

### 7. 下载图片
- 点击 "📥 下载图片" 按钮
- 图片将自动下载为 PNG 格式
- 文件名：seat-schematic.png

## 技术实现

### 后端API
- **路由**: `/api/generate-image`
- **方法**: POST
- **请求体**:
  ```json
  {
    "prompt": "Child safety car seat design...",
    "style": "simple"
  }
  ```
- **响应**:
  ```json
  {
    "success": true,
    "imageUrl": "https://...",
    "model": "doubao-seedream-4-5-251128",
    "created": 1769067356
  }
  ```

### 前端功能
- 使用 coze-coding-dev-sdk 集成豆包生图大模型
- 支持2K分辨率图片生成
- 实时加载状态显示
- 错误处理和用户提示
- 图片下载功能

## 提示词优化

系统会根据座椅尺寸自动生成优化的提示词：

```javascript
Child safety car seat design, side view diagram. 
Dimensions: seat width 38cm, seat depth 42cm, back height 85cm, 
headrest height 35cm, 3 harness slots. 
Simple technical drawing style.
```

根据选择的样式，提示词会自动调整：
- **简笔画**: "Simple line drawing, sketch style, black and white, minimalist..."
- **详细**: "Detailed technical drawing, professional illustration..."
- **卡通**: "Cute cartoon style, colorful, friendly design..."

## 功能特点

### ✅ 智能生成
- 根据计算结果自动生成
- 支持多种样式
- 2K高清分辨率

### ✅ 用户友好
- 一键生成
- 实时进度显示
- 清晰的错误提示
- 便捷的下载功能

### ✅ 性能优化
- 异步加载，不阻塞界面
- 图片缓存
- 快速响应

## 常见问题

### Q: 生成图片需要多长时间？
A: 通常5-10秒，取决于网络状况和服务器负载。

### Q: 生成的图片可以用于商业用途吗？
A: 请遵守豆包生图大模型的使用协议和授权说明。

### Q: 支持批量生成吗？
A: 目前支持单次生成，您可以多次点击按钮生成不同样式的图片。

### Q: 如果生成失败怎么办？
A: 页面会显示错误信息，请检查网络连接后重试。

### Q: 图片可以保存到本地吗？
A: 可以，点击"下载图片"按钮即可保存到本地。

## 示例效果

### 简笔画样式
- 简洁的线条
- 黑白配色
- 技术图纸风格

### 详细样式
- 精细的细节
- 专业插图
- 多层次表现

### 卡通样式
- 可爱风格
- 彩色配色
- 友好设计

## 技术栈

- **生图模型**: 豆包生图大模型
- **SDK**: coze-coding-dev-sdk
- **分辨率**: 2K (2048x2048)
- **格式**: PNG/JPEG
- **响应格式**: URL

## 未来扩展

- [ ] 支持自定义提示词
- [ ] 支持批量生成
- [ ] 支持图片编辑功能
- [ ] 支持3D模型生成
- [ ] 支持导出SVG矢量图
- [ ] 支持图库管理
- [ ] 支持历史记录

## 更新日志

### V1.0.0 (2026-01-22)
- ✅ 实现简笔画示意图生成功能
- ✅ 支持三种样式：简笔画/详细/卡通
- ✅ 实现图片下载功能
- ✅ 添加加载状态和错误处理
- ✅ 集成豆包生图大模型

---

**功能状态**: ✅ 已完成并上线
**最后更新**: 2026-01-22
